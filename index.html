<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Previs√£o do Tempo</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.10/css/weather-icons.min.css">
<style>
/* ===================== VARI√ÅVEIS GLOBAIS E TEMAS ===================== */
:root {
  /* Gradientes */
  --bg-gradient-light-clear: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  --bg-gradient-light-clouds: linear-gradient(135deg, #757f9a 0%, #d7dde8 100%);
  --bg-gradient-light-rain: linear-gradient(135deg, #3a7bd5 0%, #00d2ff 100%);
  --bg-gradient-light-thunderstorm: linear-gradient(135deg, #141e30 0%, #243b55 100%);
  --bg-gradient-light-snow: linear-gradient(135deg, #e6dada 0%, #274046 100%);
  --bg-gradient-dark-clear: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
  --bg-gradient-dark-clouds: linear-gradient(135deg, #434343 0%, #000000 100%);
  --bg-gradient-dark-rain: linear-gradient(135deg, #000046 0%, #1cb5e0 100%);
  --bg-gradient-dark-thunderstorm: linear-gradient(135deg, #1e130c 0%, #9a8478 100%);
  --bg-gradient-dark-snow: linear-gradient(135deg, #6e7f80 0%, #2f4b4a 100%);

  /* Cores */
  --text-color-light: #000;
  --text-color-dark: #ddd;
  --input-text-light: #000;
  --input-text-dark: #cfd8dc;
  --input-bg-light: rgba(255,255,255,0.9);
  --input-bg-dark: rgba(255,255,255,0.1);
  --input-border-focus: var(--button-bg);

  --button-bg: #ff9800;
  --button-bg-hover: #e68a00;
  --button-bg-disabled: #ffa733;
  --button-shadow-hover: #ffb74d;

  --toast-bg-light: rgba(0,0,0,0.85);
  --toast-text-light: #fff;
  --toast-bg-dark: rgba(255,255,255,0.9);
  --toast-text-dark: #000;

  --loading-bg-light: rgba(255,255,255,0.35);
  --loading-bg-dark: rgba(255,255,255,0.15);
}

/* ===================== BODY E TEMAS ===================== */
body {
  transition: background 0.75s ease, color 0.75s ease;
  font-family: Arial, sans-serif;
  margin:0; padding:20px; min-height:100vh;
  display:flex; flex-direction:column; align-items:center; text-align:center;
  font-size:18px; color: var(--text-color-light);
  background: linear-gradient(135deg, #6ec1e4, #a8d5e2);
}
body.light { color: var(--text-color-light); }
body.dark { color: var(--text-color-dark); }

body.light.bg-clear { background: var(--bg-gradient-light-clear); }
body.light.bg-clouds { background: var(--bg-gradient-light-clouds); }
body.light.bg-rain { background: var(--bg-gradient-light-rain); }
body.light.bg-thunderstorm { background: var(--bg-gradient-light-thunderstorm); }
body.light.bg-snow { background: var(--bg-gradient-light-snow); }

body.dark.bg-clear { background: var(--bg-gradient-dark-clear); }
body.dark.bg-clouds { background: var(--bg-gradient-dark-clouds); }
body.dark.bg-rain { background: var(--bg-gradient-dark-rain); }
body.dark.bg-thunderstorm { background: var(--bg-gradient-dark-thunderstorm); }
body.dark.bg-snow { background: var(--bg-gradient-dark-snow); }

/* ===================== HEADER ===================== */
header { width:100%; max-width:600px; display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; }
h1 { margin:0; font-weight:700; font-size:2rem; color:#0d3b66; text-shadow:1px 1px 2px rgba(255,255,255,0.6); }
#theme-toggle { background:transparent; border:2px solid currentColor; border-radius:8px; padding:8px 16px; font-size:1rem; cursor:pointer; transition: background-color 0.3s, color 0.3s; color:inherit; user-select:none; min-width:110px; min-height:40px; }
#theme-toggle:hover, #theme-toggle:focus { background-color: var(--button-bg); color:white; border-color: var(--button-bg); outline:none; }

/* ===================== INPUTS ===================== */
input[type="text"], select { font-size:16px; padding:8px 12px; border-radius:10px; border:1px solid rgba(0,0,0,0.2); outline:none; transition:all 0.3s ease; cursor:pointer; background-color: rgba(255,255,255,0.9); color:#0d3b66; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
input[type="text"]:focus, select:focus { border-color:#0d3b66; box-shadow:0 4px 12px rgba(0,0,0,0.2); }

/* ===================== BUTTONS ===================== */
button { padding:12px 20px; border:none; border-radius:8px; font-size:1rem; cursor:pointer; min-width:110px; min-height:40px; transition: background-color 0.3s, box-shadow 0.3s; user-select:none; }
button#buscarClimaBtn { background: linear-gradient(135deg, #0d3b66, #145da0); color:#fff; font-weight:bold; }
button#buscarClimaBtn:disabled { background: rgba(13,59,102,0.5); cursor:not-allowed; box-shadow:none; }

/* ===================== WEATHER CARD ===================== */
#weather { background: rgba(255,255,255,0.15); border-radius:12px; padding:25px 30px; width:100%; max-width:600px; display:grid; grid-template-columns:100px 1fr; grid-gap:25px; align-items:center; position:relative; min-height:260px; transition: background 0.75s ease, color 0.75s ease; color:inherit; overflow:hidden; box-shadow:0 4px 12px rgba(0,0,0,0.25); }
body.dark #weather { background: rgba(255,255,255,0.1); box-shadow:0 4px 12px rgba(255,255,255,0.1); }
#weather[hidden]{display:none !important;}
#weather-content { display:block; grid-column:2; }
#weather-error { display:none; grid-column:1/-1; color:#b00020; font-weight:700; text-align:center; padding:1rem 1.5rem; border-radius:12px; background-color: rgba(255,0,0,0.1); min-height:100px; align-self:center; justify-self:center; font-size:1.1rem; transition:opacity 0.3s ease; opacity:0; pointer-events:none; }
body.error #weather-error { display:block; opacity:1; pointer-events:auto; background-color: rgba(176,0,32,0.15); }
body.error #weather-content { display:none; }
body.error #icon { display:none; }

/* Spinner */
#spinner { position:absolute; bottom:15px; right:15px; width:40px; height:40px; border:4px solid rgba(255,255,255,0.3); border-top:4px solid #fff; border-radius:50%; animation:spin 1s linear infinite; transform-origin:center center; opacity:0; pointer-events:none; transition:opacity 0.5s ease, transform 0.3s ease; z-index:10; }
@keyframes spin { from{transform:rotate(0deg);} to{transform:rotate(360deg);} }

/* Loading overlay */
#weather.loading::before { content:""; position:absolute; inset:0; background:var(--loading-bg-light); backdrop-filter:blur(6px); border-radius:12px; z-index:5; transition:none; }
body.dark #weather.loading::before { background:var(--loading-bg-dark); }
#weather.loading #spinner { opacity:0.85; transform:scale(1); }
#weather.loading #weather-content, #weather.loading .weather-icon { visibility:hidden; }

/* ===================== WEATHER ICONS ===================== */
.weather-icon { width:100px; height:100px; background-size:contain; background-repeat:no-repeat; justify-self:center; transition: background-image 0.5s ease; }
.weather-icon.clear { background-image:url('../assets/icons/wi-day-sunny.svg'); animation:rotateSlow 120s linear infinite; }
.weather-icon.clouds { background-image:url('../assets/icons/wi-cloudy.svg'); animation:floatClouds 20s ease-in-out infinite; }
.weather-icon.rain { background-image:url('../assets/icons/wi-rain.svg'); animation:rainAnim 3s linear infinite; }
.weather-icon.thunderstorm { background-image:url('../assets/icons/wi-thunderstorm.svg'); animation:thunderAnim 2s ease-in-out infinite alternate; }
.weather-icon.snow { background-image:url('../assets/icons/wi-snow.svg'); animation:snowAnim 15s linear infinite; }

@keyframes rotateSlow { from{transform:rotate(0deg);} to{transform:rotate(360deg);} }
@keyframes floatClouds { 0%,100%{transform:translateY(0);} 50%{transform:translateY(8px);} }
@keyframes rainAnim {0%{background-position:0 0;} 100%{background-position:0 100%;} }
@keyframes thunderAnim {0%{filter:brightness(1);} 100%{filter:brightness(1.5);} }
@keyframes snowAnim {0%{background-position:0 0;} 100%{background-position:100% 100%;} }

@media (prefers-reduced-motion: reduce) { .weather-icon{animation:none !important;} }

/* ===================== CARDS ===================== */
.cards { display:flex; flex-direction:column; align-items:center; gap:20px; margin-top:20px; }
.card { background: rgba(255,255,255,0.85); border-radius:16px; padding:15px; width:90%; max-width:350px; box-shadow:0 4px 12px rgba(0,0,0,0.15); display:flex; flex-direction:column; word-wrap:break-word; color:#0d3b66; }
.card.today { border:2px solid #0d3b66; box-shadow:0 6px 20px rgba(0,0,0,0.25); }
.card:hover { transform: translateY(-6px) scale(1.02); box-shadow:0 6px 16px rgba(0,0,0,0.2); }
.card h2 { margin:5px 0 12px 0; font-size:26px; border-bottom:1px solid rgba(0,0,0,0.1); padding-bottom:5px; }
.horario { margin:10px 0; padding:8px 10px; border-radius:10px; display:flex; align-items:center; gap:8px; font-size:18px; cursor:pointer; position:relative; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; background: linear-gradient(145deg, rgba(255,255,255,0.25), rgba(255,255,255,0)); box-shadow: inset 0 2px 4px rgba(255,255,255,0.3), 0 2px 6px rgba(0,0,0,0.1); }
.horario::after { content:""; position:absolute; top:0; left:-75%; width:50%; height:100%; background: linear-gradient(120deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0) 100%); transform: skewX(-20deg); transition: all 0.3s ease; }
.horario:hover::after { animation: shine 1s forwards; }
@keyframes shine { 0% { left:-75%; } 100% { left:125%; } }
.horario:hover { transform: translateX(3px); }
.horario strong { width:60px; flex-shrink:0; }
.horario img { width:32px; height:32px; flex-shrink:0; }
.horario span.temp { margin-right:12px; flex-shrink:0; }
.horario span.desc { flex:1; white-space:nowrap; }

/* ===================== HIST√ìRICO/FAVORITOS ===================== */
#history-list, #favorites-list { list-style:none; margin:0; padding:0; display:flex; flex-wrap:wrap; gap:8px; }
#history-list li, #favorites-list li { background:var(--button-bg); color:#fff; padding:8px 12px; border-radius:8px; cursor:pointer; transition:background-color 0.3s, transform 0.2s; flex:0 0 auto; }
#history-list li:hover, #favorites-list li:hover, #history-list li:focus, #favorites-list li:focus { background-color:var(--button-bg-hover); transform:scale(1.05); outline:none; }

/* ===================== TOAST ===================== */
#toast { position:fixed; bottom:20px; left:50%; transform:translateX(-50%) translateY(20px); padding:10px 20px; border-radius:8px; font-size:14px; opacity:0; pointer-events:none; transition:opacity 0.3s ease, transform 0.3s ease; z-index:9999; }
#toast.show { opacity:1; pointer-events:auto; transform:translateX(-50%) translateY(0); }

/* ===================== MODAL ===================== */
#confirm-modal { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:10000; font-family:Arial, sans-serif; }
#confirm-modal[hidden]{display:none;}
#confirm-modal .modal-overlay { position:fixed; inset:0; background: rgba(0,0,0,0.5); backdrop-filter: blur(3px); z-index:10001; }
#confirm-modal .modal-content { position:relative; background: var(--button-bg); color:#fff; padding:25px 30px; border-radius:12px; max-width:400px; width:90%; box-shadow:0 4px 15px rgba(0,0,0,0.3); z-index:10002; text-align:center; }
#confirm-modal h2 { margin-top:0; font-size:1.5rem; }
#confirm-modal p { margin:20px 0; font-size:1.1rem; }
#confirm-modal .modal-buttons { display:flex; justify-content:center; gap:20px; }
#confirm-modal button#confirm-yes { background-color:#4caf50; color:#fff; }
#confirm-modal button#confirm-yes:hover, #confirm-modal button#confirm-yes:focus { background-color:#45a045; outline:none; }
#confirm-modal button#confirm-no { background-color:#f44336; color:#fff; }
#confirm-modal button#confirm-no:hover, #confirm-modal button#confirm-no:focus { background-color:#d32f2f; outline:none; }

/* ===================== RESPONSIVO ===================== */
@media(max-width:550px){ .cards{width:100%; max-width:100%;} .card{flex:1 1 100%; max-width:100%; font-size:24px;} body{font-size:20px;} h1{font-size:30px;} .card h2{font-size:22px;} .horario{font-size:24px; gap:10px;} .horario strong{width:70px;} .horario img{width:36px;height:36px;} .horario span.temp{margin-right:14px;} select,#buscarClimaBtn{font-size:18px; padding:10px 14px;} }
</style>
</head>
<body class="light bg-clear">
<header>
<h1>Previs√£o do Tempo</h1>
<button id="theme-toggle" aria-pressed="false">üåô Tema</button>
</header>

<div class="select-container">
  <select id="estado-select"><option value="">Selecione o estado</option></select>
  <select id="cidade-select" disabled><option value="">Selecione a cidade</option></select>
  <button id="buscarClimaBtn" disabled>Buscar</button>
</div>

<div id="weather">
  <div id="icon" class="weather-icon"></div>
  <div id="weather-content">
    <div id="city-name"></div>
    <div id="temp"></div>
    <div id="desc"></div>
    <div id="details"></div>
  </div>
  <div id="weather-error"></div>
  <div id="spinner"></div>
</div>

<section id="history-section">
  <h2>Hist√≥rico</h2>
  <ul id="history-list"></ul>
</section>

<section id="favorites-section">
  <h2>Favoritos</h2>
  <ul id="favorites-list"></ul>
</section>

<div class="tooltip" style="position:absolute; background:rgba(0,0,0,0.75); color:#fff; padding:6px 10px; border-radius:6px; pointer-events:none; opacity:0; transition:opacity 0.2s; font-size:14px;"></div>

<div id="toast"></div>

<div id="confirm-modal" hidden>
  <div class="modal-overlay"></div>
  <div class="modal-content">
    <h2>Remover Favorito</h2>
    <p>Deseja realmente remover esta cidade dos favoritos?</p>
    <div class="modal-buttons">
      <button id="confirm-yes">Sim</button>
      <button id="confirm-no">N√£o</button>
    </div>
  </div>
</div>

<script>
// ======================= INCLUA AQUI O JS FINAL QUE TE ENVIEI =======================
</script>
  <script src="js/combined-app.js"></script>
</body>
</html>


