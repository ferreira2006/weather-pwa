:root {
  /* -------- GRADIENTES DE FUNDO -------- */
  --bg-gradient-light-clear: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  --bg-gradient-light-clouds: linear-gradient(135deg, #757f9a 0%, #d7dde8 100%);
  --bg-gradient-light-rain: linear-gradient(135deg, #3a7bd5 0%, #00d2ff 100%);
  --bg-gradient-light-thunderstorm: linear-gradient(135deg, #141e30 0%, #243b55 100%);
  --bg-gradient-light-snow: linear-gradient(135deg, #e6dada 0%, #274046 100%);
  --bg-gradient-dark-clear: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
  --bg-gradient-dark-clouds: linear-gradient(135deg, #434343 0%, #000000 100%);
  --bg-gradient-dark-rain: linear-gradient(135deg, #000046 0%, #1cb5e0 100%);
  --bg-gradient-dark-thunderstorm: linear-gradient(135deg, #1e130c 0%, #9a8478 100%);
  --bg-gradient-dark-snow: linear-gradient(135deg, #6e7f80 0%, #2f4b4a 100%);

  /* -------- CORES -------- */
  --text-color-light: #000;
  --text-color-dark: #ddd;
  --input-text-light: #000;
  --input-text-dark: #cfd8dc;
  --input-bg-light: rgba(255, 255, 255, 0.9);
  --input-bg-dark: rgba(255, 255, 255, 0.1);
  --input-border-focus: var(--button-bg);
  --button-bg: #ff9800;
  --button-bg-hover: #e68a00;
  --button-bg-disabled: #ffa733;
  --button-shadow-hover: #ffb74d;
  --toast-bg-light: rgba(0,0,0,0.85);
  --toast-text-light: #fff;
  --toast-bg-dark: rgba(255,255,255,0.9);
  --toast-text-dark: #000;
  --loading-bg-light: rgba(255,255,255,0.35);
  --loading-bg-dark: rgba(255,255,255,0.15);
}

/* -------- BODY E TEMAS -------- */
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 20px;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: background 0.75s ease, color 0.75s ease;
}
body.light { color: var(--text-color-light); }
body.dark { color: var(--text-color-dark); }
body.light.bg-clear { background: var(--bg-gradient-light-clear); }
body.light.bg-clouds { background: var(--bg-gradient-light-clouds); }
body.light.bg-rain { background: var(--bg-gradient-light-rain); }
body.light.bg-thunderstorm { background: var(--bg-gradient-light-thunderstorm); }
body.light.bg-snow { background: var(--bg-gradient-light-snow); }
body.dark.bg-clear { background: var(--bg-gradient-dark-clear); }
body.dark.bg-clouds { background: var(--bg-gradient-dark-clouds); }
body.dark.bg-rain { background: var(--bg-gradient-dark-rain); }
body.dark.bg-thunderstorm { background: var(--bg-gradient-dark-thunderstorm); }
body.dark.bg-snow { background: var(--bg-gradient-dark-snow); }

/* -------- INPUTS -------- */
input[type="text"], select {
  padding: 12px 15px;
  font-size: 1rem;
  border-radius: 8px;
  border: 1px solid transparent;
  outline: none;
  transition: background-color 0.3s, color 0.3s, box-shadow 0.3s, border-color 0.3s;
}
body.light input, body.light select { color: var(--input-text-light); background-color: var(--input-bg-light); }
body.dark input, body.dark select { color: var(--input-text-dark); background-color: var(--input-bg-dark); }
input:focus-visible, select:focus-visible { outline:3px solid var(--button-bg); outline-offset:3px; }

/* -------- HEADER -------- */
header { width:100%; max-width:600px; display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; }
h1 { margin:0; font-weight:700; font-size:2rem; }
#theme-toggle {
  background:transparent; border:2px solid currentColor; border-radius:8px;
  padding:8px 16px; font-size:1rem; cursor:pointer; min-width:110px; min-height:40px; color:inherit; transition:0.3s;
}
#theme-toggle:hover, #theme-toggle:focus { background-color: var(--button-bg); color:#fff; outline:none; }

/* -------- MAIN, SELECTS E BOTÃ•ES -------- */
main { width:100%; max-width:600px; display:flex; flex-direction:column; align-items:center; gap:25px; }
.state-city-container { display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin-bottom:20px; }
.state-city-container select { min-width:120px; cursor:pointer; }
.state-city-container select:disabled { cursor:not-allowed; background-color:#eee; color:#888; }
#state-city-search-btn { min-width:110px; min-height:40px; border:none; border-radius:8px; background-color:var(--button-bg); color:#fff; cursor:pointer; transition:0.3s; }
#state-city-search-btn:hover:not(:disabled), #state-city-search-btn:focus:not(:disabled) { background-color:var(--button-bg-hover); }

/* -------- WEATHER CARD -------- */
#weather {
  background: rgba(255,255,255,0.15);
  border-radius:12px;
  padding:25px 30px;
  width:100%; max-width:600px;
  display:grid; grid-template-columns:100px 1fr; grid-gap:25px;
  align-items:center; position:relative; min-height:260px;
  color:inherit; overflow:hidden; box-shadow:0 4px 12px rgba(0,0,0,0.25);
  transition: background 0.75s ease, color 0.75s ease;
}
body.dark #weather { background: rgba(255,255,255,0.1); box-shadow:0 4px 12px rgba(255,255,255,0.1); }
#weather[hidden] { display:none !important; }

/* -------- WEATHER ICONS -------- */
.weather-icon {
  width:100px; height:100px; background-size:contain; background-repeat:no-repeat; justify-self:center; transition:0.5s;
}
.weather-icon.clear { background-image:url('../assets/icons/wi-day-sunny.svg'); animation:rotateSlow 120s linear infinite; }
.weather-icon.clouds { background-image:url('../assets/icons/wi-cloudy.svg'); animation:floatClouds 20s ease-in-out infinite; }
.weather-icon.rain { background-image:url('../assets/icons/wi-rain.svg'); animation:rainAnim 3s linear infinite; }
.weather-icon.thunderstorm { background-image:url('../assets/icons/wi-thunderstorm.svg'); animation:thunderAnim 2s ease-in-out infinite alternate; }
.weather-icon.snow { background-image:url('../assets/icons/wi-snow.svg'); animation:snowAnim 15s linear infinite; }

@keyframes rotateSlow { from {transform:rotate(0deg);} to {transform:rotate(360deg);} }
@keyframes floatClouds { 0%,100%{transform:translateY(0);} 50%{transform:translateY(8px);} }
@keyframes rainAnim {0%{background-position:0 0;} 100%{background-position:0 100%;} }
@keyframes thunderAnim {0%{filter:brightness(1);} 100%{filter:brightness(1.5);} }
@keyframes snowAnim {0%{background-position:0 0;} 100%{background-position:100% 100%;} }

@media (prefers-reduced-motion: reduce) { .weather-icon { animation:none !important; } }

/* -------- INFO CLIMA -------- */
.info { display:flex; flex-direction:column; justify-content:center; }
.temp { font-size:4rem; font-weight:700; margin:0; }
.desc { font-size:1.5rem; font-weight:500; margin:5px 0 15px; font-style:italic; }
.details { font-size:1rem; font-weight:400; line-height:1.6; }

/* -------- FAVORITOS CARD -------- */
#fav-btn { position:absolute; top:10px; right:10px; width:35px; height:35px; border:none; border-radius:50%; background:var(--button-bg); color:#fff; display:flex; align-items:center; justify-content:center; cursor:pointer; transition:0.2s; }
#fav-btn:hover, #fav-btn:focus { transform:scale(1.1); background-color:var(--button-bg-hover); outline:none; }
#weather-fav-icon.not-favorited { color:#fff; }
body.dark #weather-fav-icon.not-favorited { color:#cfd8dc; }
#weather-fav-icon.favorited { color:red; transform:scale(1.2); animation:heart-pop 0.25s ease forwards; }
@keyframes heart-pop { 0%{transform:scale(1);} 50%{transform:scale(1.4);} 100%{transform:scale(1.2);} }

/* -------- RESPONSIVIDADE -------- */
@media (max-width:640px){
  #weather { grid-template-columns:1fr; grid-template-rows:auto auto; min-height:auto; }
  .weather-icon { justify-self:center; margin-bottom:15px; }
  .state-city-container { flex-direction: column; }
}
